<head>
  <title>Book your massage slot</title>
</head>

<body>
  <!-- TODO: Make admin only -->
  {{> allSessions}}
  <br>
  {{> massageTable}}
</body>

<template name="allSessions">
  <div class="days-container pull-right">
    <input type="text" id="new-day-date">
    <button class="add-day">Add new day</button>
  </div>
</template>


<template name="massageTable">
  <h1>Massage Booking System</h1>
  <h3>Massages for {{date}}</h3>

  <table class="table table-striped table-bordered" id="massageTable">
    <thead>
      <th>Time Slot</th>
      <th>Therapist #1</th>
      <th>Therapist #2</th>
    </thead>
    {{#each slots}}
    <tr>
      <td>{{displayTime}}</td>
      <td>
        {{customer1}}
        {{#if masseuse1.customerName}}
          {{masseuse1.customerName}}
        {{else}}
          <!-- TODO: This should be one field, a timestamp? ObjectID  -->
          <input class="time-slot-input" id="1-input-{{_id}}" type="text" placeholder="Available slot">
          <button data-slotId="{{_id}}" data-masseuse="1" class="book-time-slot">Book</button>
        {{/if}}
      </td>
      <td>
        {{customer2}}
        {{#if masseuse2.customerName}}
          {{masseuse2.customerName}}
        {{else}}
          <input class="time-slot-input" id="2-input-{{_id}}" type="text" placeholder="Available slot">
          <button data-slotId="{{_id}}" data-masseuse="2" class="book-time-slot">Book</button>
        {{/if}}
      </td>
    </tr>
    {{/each}}
  </table>
</template>
